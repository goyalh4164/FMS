wrap text of all columns of table body instead of using ...
remove <--All--> column filter from each column
Give me complete code after modification

import React, { useState, useMemo } from "react";
import { useLocation } from "react-router-dom";
import { defaultData } from "../utils/constants/apiData";
import getExcelFile from "../apiCalls/getExcelFile";
import tableStyles from "../styles/tableStyles";

const AdvancedDataTable = ({
  data: propData,
  columnCount = 6,
  referenceColumnIndex = 1, // Changed default to second column (index 1)
  conditionalColumnKey = "salary",
  conditionalThreshold = 80000,
}) => {
  // Sample data (used if no data prop is provided)
  const location = useLocation();
  const {
    Data,
    file_path,
    model1_path,
    model2_path,
    software_model_1,
    software_model_2,
    changelist_1,
    changelist_2,
    isLicensePage,
    Table_Column_Count,
    prefix,
    suffix,
  } = location.state;

  columnCount = Table_Column_Count;

  const data = Data || defaultData;

  // Dynamically generate column definitions based on the first data row and columnCount
  const columns = useMemo(() => {
    if (!data || data.length === 0) return [];

    const firstRow = data[0];
    const allKeys = Object.keys(firstRow);
    const selectedKeys = allKeys.slice(0, columnCount);

    return selectedKeys.map((key, index) => {
      // Determine filter type based on data type and uniqueness
      const values = data.map((item) => item[key]);
      const uniqueValues = [...new Set(values)];
      const isNumeric = values.every((val) => typeof val === "number");
      const hasLimitedOptions =
        uniqueValues.length <= Math.max(10, data.length * 0.3);

      return {
        key,
        label: key,
        filterable: index !== referenceColumnIndex, // Reference column is not filterable
        type: !isNumeric && hasLimitedOptions ? "select" : "text",
        isReference: index === referenceColumnIndex,
      };
    });
  }, [data, columnCount, referenceColumnIndex]);

  const initialColumnWidths = useMemo(() => {
    const widths = {};

    if (columns.length === 0) return widths;
    widths[columns[0].key] = "400px";
    if (columns.length > 1) {
      for (let i = 1; i < columns.length; i++) {
        widths[columns[i].key] = "350px";
      }
    }

    return widths;
  }, [columns]);

  // State management
  const [globalFilter, setGlobalFilter] = useState("");
  const [columnFilters, setColumnFilters] = useState({});
  const [sortConfig, setSortConfig] = useState({ key: null, direction: "asc" });
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage, setItemsPerPage] = useState(20);
  const [columnWidths, setColumnWidths] = useState(initialColumnWidths);

  // Update column widths when columns change
  React.useEffect(() => {
    setColumnWidths(initialColumnWidths);
  }, [initialColumnWidths]);

  // Get unique values for select filters
  const getUniqueValues = (key) => {
    return [...new Set(data.map((item) => item[key]))].sort();
  };

  // Filtering logic
  const filteredData = useMemo(() => {
    let filtered = data;

    // Global filter
    if (globalFilter) {
      filtered = filtered.filter((item) =>
        Object.values(item).some((value) =>
          value.toString().toLowerCase().includes(globalFilter.toLowerCase())
        )
      );
    }

    // Column filters
    Object.entries(columnFilters).forEach(([key, value]) => {
      if (value) {
        filtered = filtered.filter((item) =>
          item[key].toString().toLowerCase().includes(value.toLowerCase())
        );
      }
    });

    return filtered;
  }, [data, globalFilter, columnFilters]);

  // Sorting logic
  const sortedData = useMemo(() => {
    if (!sortConfig.key) return filteredData;

    return [...filteredData].sort((a, b) => {
      const aValue = a[sortConfig.key];
      const bValue = b[sortConfig.key];

      if (typeof aValue === "number" && typeof bValue === "number") {
        return sortConfig.direction === "asc"
          ? aValue - bValue
          : bValue - aValue;
      }

      const aStr = aValue.toString().toLowerCase();
      const bStr = bValue.toString().toLowerCase();

      if (aStr < bStr) return sortConfig.direction === "asc" ? -1 : 1;
      if (aStr > bStr) return sortConfig.direction === "asc" ? 1 : -1;
      return 0;
    });
  }, [filteredData, sortConfig]);

  // Pagination logic
  const totalPages = Math.ceil(sortedData.length / itemsPerPage);
  const paginatedData = useMemo(() => {
    const startIndex = (currentPage - 1) * itemsPerPage;
    return sortedData.slice(startIndex, startIndex + itemsPerPage);
  }, [sortedData, currentPage, itemsPerPage]);

  // Handlers
  const handleSort = (key) => {
    setSortConfig((prev) => ({
      key,
      direction: prev.key === key && prev.direction === "asc" ? "desc" : "asc",
    }));
  };

  const handleColumnFilter = (key, value) => {
    setColumnFilters((prev) => ({ ...prev, [key]: value }));
    setCurrentPage(1);
  };

  const handleColumnResize = (key, newWidthPercent) => {
    setColumnWidths((prev) => ({
      ...prev,
      [key]: `${Math.max(5, Math.min(80, newWidthPercent))}%`, // Min 5%, Max 80%
    }));
  };

  const clearFilters = () => {
    setGlobalFilter("");
    setColumnFilters({});
    setCurrentPage(1);
  };

  // Download Excel function
  const downloadExcelfile = async () => {
    // Create CSV content from current filtered data
    await getExcelFile(file_path);
  };

  // Conditional cell styling based on reference column comparison
  const getCellStyle = (key, value, column, row, columnIndex) => {
    const baseStyle = {};

    // Get reference column (second column, index 1)
    const referenceColumn = columns[1];
    const referenceValue = row[referenceColumn?.key];

    // Reference column styling (second column) - WHITE background
    if (column.isReference) {
      baseStyle.backgroundColor = "white";
      baseStyle.fontWeight = "600";
      baseStyle.border = "2px solid #1976d2"; // Blue border to distinguish
    }
    // Columns before reference column - normal styling
    else if (columnIndex < referenceColumnIndex) {
      baseStyle.backgroundColor = "white";
      baseStyle.fontWeight = "400";
    }
    // Columns after reference column - compare with reference column value
    else if (columnIndex > referenceColumnIndex) {
      // If current cell value is different from reference column value, mark it red
      if (value !== referenceValue) {
        baseStyle.backgroundColor = "#ffebee"; // Light red background
        baseStyle.color = "#c62828"; // Dark red text
        baseStyle.borderLeft = "3px solid #f44336"; // Red left border
        baseStyle.fontWeight = "500";
      } else {
        // Same value as reference - normal styling
        baseStyle.backgroundColor = "white";
      }
    }

    // Conditional styling for specified column (override other styling if this condition is met)
    if (
      key === conditionalColumnKey &&
      typeof value === "number" &&
      value > conditionalThreshold
    ) {
      // Keep existing background but make text bold and darker red if already red
      if (baseStyle.backgroundColor === "#ffebee") {
        baseStyle.color = "#b71c1c"; // Darker red for high values
        baseStyle.fontWeight = "bold";
      } else {
        baseStyle.color = "#dc3545";
        baseStyle.fontWeight = "bold";
      }
    }

    // Status-based styling (if status column exists) - preserve existing background colors
    if (key === "status" && value === "Inactive") {
      if (baseStyle.backgroundColor === "#ffebee") {
        // Keep red background if it's there, just make text italic
        baseStyle.fontStyle = "italic";
      } else {
        baseStyle.color = "#6c757d";
        baseStyle.fontStyle = "italic";
      }
    }

    return baseStyle;
  };

  return (
    <div style={tableStyles.tableContainerStyles}>
      <div style={tableStyles.comparisionReportContainerStyles}>
        {/* Important Points Section */}
        <div style={tableStyles.innerComparisionReportContainerStyles}>
          <h3 style={tableStyles.ComparisionReportHeadingStyle}>
            Comparison Report
          </h3>
          <div style={tableStyles.keyPointContainerStyle}>
            {model1_path && (
              <div style={tableStyles.keyPointTitleBlueStyle}>
                <strong>Model 1 Path:</strong> {model1_path}
              </div>
            )}
            {software_model_1 && (
              <div style={tableStyles.keyPointTitleBlueStyle}>
                <strong>Model 1 S/W:</strong> {software_model_1}
              </div>
            )}
            <div style={tableStyles.keyPointTitleBlueStyle}>
              <strong>Model 1 CL:</strong>{" "}
              {changelist_1.length === 0 ? "latest" : changelist_1}
            </div>
            {model2_path && (
              <div style={tableStyles.keyPointTitleYellowStyle}>
                <strong>Model 2 Path:</strong> {model2_path}
              </div>
            )}
            {software_model_2 && (
              <div style={tableStyles.keyPointTitleYellowStyle}>
                <strong>Model 2 S/W:</strong> {software_model_2}
              </div>
            )}
            {!isLicensePage && (
              <div style={tableStyles.keyPointTitleYellowStyle}>
                <strong>Model 2 CL:</strong>{" "}
                {changelist_2.length === 0 ? "latest" : changelist_2}
              </div>
            )}
            {isLicensePage && (
              <div style={tableStyles.keyPointTitleYellowStyle}>
                <strong>Model: </strong>{" "}
                {prefix}
              </div>
            )}
            {isLicensePage && (
              <div style={tableStyles.keyPointTitleYellowStyle}>
                <strong>Reference: </strong>{" "}
                {suffix}
              </div>
            )}
            
          </div>
        </div>
      </div>

      {/* Controls */}
      <div style={tableStyles.controlsContainer}>
        <div style={tableStyles.innerControlsContainer}>
          <input
            type="text"
            placeholder="Global search..."
            value={globalFilter}
            onChange={(e) => {
              setGlobalFilter(e.target.value);
              setCurrentPage(1);
            }}
            style={tableStyles.globalSearchInputFieldStyle}
          />

          <select
            value={itemsPerPage}
            onChange={(e) => {
              setItemsPerPage(Number(e.target.value));
              setCurrentPage(1);
            }}
            style={tableStyles.itemsPerPageStyle}
          >
            <option value={5}>5 per page</option>
            <option value={10}>10 per page</option>
            <option value={20}>20 per page</option>
          </select>

          <button
            onClick={clearFilters}
            style={tableStyles.clearFiltersButtonStyle}
          >
            Clear Filters
          </button>

          <button
            onClick={downloadExcelfile}
            style={tableStyles.downloadButtonStyle}
          >
            <span>ðŸ“Š</span>
            Download Excel
          </button>
        </div>
      </div>

      {/* Table Container with Horizontal Scroll */}
      <div style={tableStyles.tableContainerStyle}>
        <div style={tableStyles.innerTableContainerStyle}>
          <table style={tableStyles.innerMostTableContainerStyle}>
            <thead>
              {/* Filter Row */}
              <tr style={{ backgroundColor: "#e9ecef" }}>
                {columns.map((column) => (
                  <th
                    key={`filter-${column.key}`}
                    style={{
                      width: columnWidths[column.key],
                      padding: "8px",
                      textAlign: "left",
                      borderBottom: "1px solid #dee2e6",
                      backgroundColor: column.isReference
                        ? "#e3f2fd"
                        : "inherit",
                      overflow: "hidden",
                      textOverflow: "ellipsis",
                      whiteSpace: "nowrap",
                    }}
                  >
                    {column.filterable &&
                      (column.type === "select" ? (
                        <select
                          value={columnFilters[column.key] || ""}
                          onChange={(e) =>
                            handleColumnFilter(column.key, e.target.value)
                          }
                          style={{
                            width: "100%",
                            padding: "4px",
                            border: "1px solid #ddd",
                            borderRadius: "3px",
                            fontSize: "12px",
                          }}
                        >
                          <option value="">All</option>
                          {getUniqueValues(column.key).map((value) => (
                            <option key={value} value={value}>
                              {value}
                            </option>
                          ))}
                        </select>
                      ) : (
                        <input
                          type="text"
                          placeholder={`Filter ${column.label.toLowerCase()}...`}
                          value={columnFilters[column.key] || ""}
                          onChange={(e) =>
                            handleColumnFilter(column.key, e.target.value)
                          }
                          style={{
                            width: "100%",
                            padding: "4px",
                            border: "1px solid #ddd",
                            borderRadius: "3px",
                            fontSize: "12px",
                          }}
                        />
                      ))}
                  </th>
                ))}
              </tr>

              {/* Header Row */}
              <tr style={{ backgroundColor: "#343a40", color: "white" }}>
                {columns.map((column) => (
                  <th
                    key={column.key}
                    style={{
                      width: columnWidths[column.key],
                      padding: "12px 8px",
                      textAlign: "left",
                      cursor: "pointer",
                      userSelect: "none",
                      position: "relative",
                      borderRight: "2px solid transparent",
                      backgroundColor: column.isReference
                        ? "#1976d2"
                        : "#343a40",
                      color: "white",
                      overflow: "hidden",
                      textOverflow: "ellipsis",
                      whiteSpace: "nowrap",
                    }}
                    onClick={() => handleSort(column.key)}
                    title={column.label} // Tooltip for full text
                  >
                    <div
                      style={{
                        display: "flex",
                        alignItems: "center",
                        justifyContent: "space-between",
                      }}
                    >
                      <span>
                        {column.label}
                        {column.isReference && (
                          <span style={{ fontSize: "11px", opacity: 0.8 }}>
                            {" "}
                            (REF)
                          </span>
                        )}
                      </span>
                      <span style={{ fontSize: "12px", opacity: 0.7 }}>
                        {sortConfig.key === column.key &&
                          (sortConfig.direction === "asc" ? "â–²" : "â–¼")}
                      </span>
                    </div>

                    {/* Resize Handle */}
                    <div
                      style={{
                        position: "absolute",
                        right: 0,
                        top: 0,
                        bottom: 0,
                        width: "5px",
                        cursor: "col-resize",
                        backgroundColor: "transparent",
                      }}
                      onMouseDown={(e) => {
                        e.preventDefault();
                        const startX = e.clientX;
                        const tableWidth =
                          e.target.closest("table").offsetWidth;
                        const currentWidthPercent = parseFloat(
                          columnWidths[column.key]
                        );

                        const handleMouseMove = (e) => {
                          const diff = e.clientX - startX;
                          const diffPercent = (diff / tableWidth) * 100;
                          handleColumnResize(
                            column.key,
                            currentWidthPercent + diffPercent
                          );
                        };

                        const handleMouseUp = () => {
                          document.removeEventListener(
                            "mousemove",
                            handleMouseMove
                          );
                          document.removeEventListener(
                            "mouseup",
                            handleMouseUp
                          );
                        };

                        document.addEventListener("mousemove", handleMouseMove);
                        document.addEventListener("mouseup", handleMouseUp);
                      }}
                    />
                  </th>
                ))}
              </tr>
            </thead>

width
            <tbody>
              {paginatedData.map((row, index) => (
                <tr
                  key={row.id}
                  style={{
                    backgroundColor: index % 2 === 0 ? "#f8f9fa" : "white",
                    borderBottom: "1px solid #dee2e6",
                  }}
                >
                  {columns.map((column, columnIndex) => (
                    <td
                      key={`${row.id}-${column.key}`}
                      style={{
                        width: columnWidths[column.key],
                        padding: "10px 8px",
                        borderRight: "1px solid #dee2e6",
                        transition: "all 0.2s ease",
                        overflow: "hidden",
                        textOverflow: "ellipsis",
                        whiteSpace: "nowrap",
                        maxWidth: "0", // This forces the ellipsis to work with table-layout: fixed
                        ...getCellStyle(
                          column.key,
                          row[column.key],
                          column,
                          row,
                          columnIndex
                        ),
                      }}
                      title={String(row[column.key] || "")} // Tooltip for full text
                    >
                      {column.key === "salary" ||
                      (typeof row[column.key] === "number" &&
                        column.key.includes("price")) ||
                      column.key.includes("cost") ||
                      column.key.includes("amount")
                        ? new Intl.NumberFormat("en-US", {
                            style:
                              column.key === "salary" ||
                              column.key.includes("salary") ||
                              column.key.includes("price") ||
                              column.key.includes("cost") ||
                              column.key.includes("amount")
                                ? "currency"
                                : "decimal",
                            currency: "USD",
                          }).format(row[column.key])
                        : row[column.key]}
                    </td>
                  ))}
                </tr>
              ))}
            </tbody>
          </table>
        </div>

        {/* Pagination */}
        {totalPages > 1 && (
          <div
            style={{
              padding: "15px",
              borderTop: "1px solid #dee2e6",
              display: "flex",
              justifyContent: "space-between",
              alignItems: "center",
              backgroundColor: "#f8f9fa",
            }}
          >
            <div style={{ color: "#666" }}>
              Page {currentPage} of {totalPages}
            </div>

            <div style={{ display: "flex", gap: "5px" }}>
              <button
                onClick={() => setCurrentPage(1)}
                disabled={currentPage === 1}
                style={{
                  padding: "6px 12px",
                  border: "1px solid #ddd",
                  backgroundColor: currentPage === 1 ? "#f8f9fa" : "white",
                  color: currentPage === 1 ? "#999" : "#333",
                  cursor: currentPage === 1 ? "not-allowed" : "pointer",
                  borderRadius: "3px",
                }}
              >
                First
              </button>

              <button
                onClick={() => setCurrentPage((prev) => Math.max(1, prev - 1))}
                disabled={currentPage === 1}
                style={{
                  padding: "6px 12px",
                  border: "1px solid #ddd",
                  backgroundColor: currentPage === 1 ? "#f8f9fa" : "white",
                  color: currentPage === 1 ? "#999" : "#333",
                  cursor: currentPage === 1 ? "not-allowed" : "pointer",
                  borderRadius: "3px",
                }}
              >
                Previous
              </button>

              {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
                const page =
                  Math.max(1, Math.min(totalPages - 4, currentPage - 2)) + i;
                if (page > totalPages) return null;

                return (
                  <button
                    key={page}
                    onClick={() => setCurrentPage(page)}
                    style={{
                      padding: "6px 12px",
                      border: "1px solid #ddd",
                      backgroundColor:
                        currentPage === page ? "#007bff" : "white",
                      color: currentPage === page ? "white" : "#333",
                      cursor: "pointer",
                      borderRadius: "3px",
                      fontWeight: currentPage === page ? "bold" : "normal",
                    }}
                  >
                    {page}
                  </button>
                );
              })}

              <button
                onClick={() =>
                  setCurrentPage((prev) => Math.min(totalPages, prev + 1))
                }
                disabled={currentPage === totalPages}
                style={{
                  padding: "6px 12px",
                  border: "1px solid #ddd",
                  backgroundColor:
                    currentPage === totalPages ? "#f8f9fa" : "white",
                  color: currentPage === totalPages ? "#999" : "#333",
                  cursor:
                    currentPage === totalPages ? "not-allowed" : "pointer",
                  borderRadius: "3px",
                }}
              >
                Next
              </button>

              <button
                onClick={() => setCurrentPage(totalPages)}
                disabled={currentPage === totalPages}
                style={{
                  padding: "6px 12px",
                  border: "1px solid #ddd",
                  backgroundColor:
                    currentPage === totalPages ? "#f8f9fa" : "white",
                  color: currentPage === totalPages ? "#999" : "#333",
                  cursor:
                    currentPage === totalPages ? "not-allowed" : "pointer",
                  borderRadius: "3px",
                }}
              >
                Last
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

// Example usage with different configurations:
// <AdvancedDataTable /> // Uses default data with 6 columns, reference column 1 (second column)
// <AdvancedDataTable columnCount={4} referenceColumnIndex={1} /> // 4 columns, reference column 1
// <AdvancedDataTable data={myData} columnCount={8} referenceColumnIndex={1} conditionalColumnKey="price" conditionalThreshold={1000} />

export default AdvancedDataTable;
